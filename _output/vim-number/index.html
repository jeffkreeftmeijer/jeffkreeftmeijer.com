<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Vim&#8217;s absolute, relative and hybrid line numbers</title>
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="description" content="Besides regular absolute line numbers, Vim has relative and “hybrid” modes to help navigate around files.">
<meta name="author" content="Jeff Kreeftmeijer">
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo=">
<link rel="alternate" type="application/atom+xml" href="/feed.xml">
<link rel="amphtml" href="https://jeffkreeftmeijer.com/vim-number/amp.html">
<style>body{font:18px/1.4 system-ui,sans-serif;margin:auto;max-width:40em;padding:0 1em}h1,h2,h3,h4,h5,h6{line-height:normal}img,video{max-width:100%;height:auto}@media (max-width:375px){body{font-size:.9em}}@media (max-width:320px){body{font-size:.8em}}a{text-decoration:none}a:hover{text-decoration:underline}code,kbd,pre{font:.8em/1.4 SF Mono,Monaco,monospace;background-color:#f8f8ff}code,kbd{padding:.2em .4em}pre code{font:inherit;padding:0}pre{overflow-x:auto;padding:1em}.cf-powered-by,blockquote{font-style:italic}table{border-collapse:collapse;font:inherit;width:100%}td,th{padding:.5em}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}th{text-align:left}article aside{border:1px solid #d3d3d3;padding:0 1em}nav{display:flex;justify-content:space-between;margin:1em 0}aside.ad{position:absolute;top:1.34em;left:50%;width:50%;overflow:hidden;z-index:-100}aside.ad img{height:100px}aside.ad div#cf_ad{display:block;width:130px;margin-left:22em}aside.ad a{text-decoration:none;color:#708090;font-size:.7em;display:block;margin-bottom:1em}</style>

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@jkreeftmeijer">
<meta name="twitter:creator" content="@jkreeftmeijer">
<meta name="twitter:title" content="Vim&#8217;s absolute, relative and hybrid line numbers">
<meta name="twitter:description" content="Besides regular absolute line numbers, Vim has relative and “hybrid” modes to help navigate around files.">
<meta name="twitter:image" content="https://jeffkreeftmeijer.com/vim-number/toggle.gif">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jeffkreeftmeijer.com/vim-number/"
  },
  "headline": "Vim&#8217;s absolute, relative and hybrid line numbers",
  "image": ["https://jeffkreeftmeijer.com/vim-number/toggle.gif", "https://jeffkreeftmeijer.com/vim-number/hybrid.gif", "https://jeffkreeftmeijer.com/vim-number/relative.gif", "https://jeffkreeftmeijer.com/vim-number/absolute.gif"],
  "datePublished": "2012-01-30",
  "dateModified": "2017-10-15T12:26:33Z",
  "author": {
    "@type": "Person",
    "name": "Jeff Kreeftmeijer"
  },
  "description": "Besides regular absolute line numbers, Vim has relative and “hybrid” modes to help navigate around files.",
  "publisher": {
    "@type": "Organization",
    "name": "jeffkreeftmeijer.com",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jeffkreeftmeijer.com/logo.png"
    }
  }
}
</script>
</head>
<body>
<h1>Vim&#8217;s absolute, relative and hybrid line numbers</h1>
By <a href="/" rel="author">Jeff Kreeftmeijer</a>

<article>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Besides regular absolute line numbers, Vim has relative and “hybrid” modes to help navigate around files. With some autocommands, Vim can even toggle between line number modes automatically when you switch files or enter insert mode.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="absolute-line-numbers">Absolute line numbers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the <code>number</code> option, Vim sets up absolute line numbers to show the line number for each line in the file you&#8217;re working on.</p>
</div>

<video src="https://jeffkreeftmeijer.com/vim-number/absolute.mp4" width="1490" height="1162" poster="https://jeffkreeftmeijer.com/vim-number/absolute.gif" autoplay muted playsinline loop>
</video>

<pre class="highlight"><code>:set number
:set nonumber  " turn line numbers off
:set number!   " toggle line numbers</code></pre>
<div class="paragraph">
<p>Besides being useful for finding a line from a stacktrace or a test result, you can use line numbers to help you quickly jump around. For example, if you want to go to the tenth line in your file, you&#8217;d type <kbd>esc</kbd> if you&#8217;re in insert mode and then <code>:10</code> to move to the correct line.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="relative-line-numbers">Relative line numbers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the <code>relativenumber</code> option, each line in your file is numbered relative to the line you&#8217;re currently on. The current line is marked 0, the ones above and below it are marked 1, and so on.</p>
</div>

<video src="https://jeffkreeftmeijer.com/vim-number/relative.mp4" width="1490" height="1162" poster="https://jeffkreeftmeijer.com/vim-number/relative.gif" autoplay muted playsinline loop>
</video>

<pre class="highlight"><code>:set relativenumber
:set norelativenumber  " turn relative line numbers off
:set relativenumber!   " toggle relative line numbers</code></pre>
<div class="paragraph">
<p>Like any any command in Vim, the <kbd>j</kbd> and <kbd>k</kbd> (or <kbd>↑</kbd> and <kbd>↓</kbd>) keys can be prefixed with a number. Typing <kbd>5</kbd><kbd>j</kbd> will move the cursor five lines down, for example. If you want to remove seven lines, you can use <kbd>d</kbd><kbd>7</kbd><kbd>d</kbd> without having to switch to visual mode to select the lines first.</p>
</div>
<div class="paragraph">
<p>However, it can be difficult to see how many lines you need to jump to get to where you want to be, rendering this method useless for any jumps over ten lines. Also, absolute line numbers become less useful when working in lenghy files.</p>
</div>
<div class="paragraph">
<p>With relative line numbers, you can quickly glance at the number of the line you want to jump to. If it&#8217;s thirteen lines up, you press <kbd>1</kbd><kbd>3</kbd><kbd>k</kbd> to get there. To get back to where you came from, you use <kbd>1</kbd><kbd>3</kbd><kbd>j</kbd>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hybrid-line-numbers">“Hybrid” line numbers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since Vim 7.4, you can enable <code>number</code> and <code>relativenumber</code> at the same time, to give you <em>hybrid line number mode</em>. All lines will show their relative number, except for the line you&#8217;re currently on, which will show its absolute line number.</p>
</div>

<video src="https://jeffkreeftmeijer.com/vim-number/hybrid.mp4" width="1490" height="1162" poster="https://jeffkreeftmeijer.com/vim-number/hybrid.gif" autoplay muted playsinline loop>
</video>

<pre class="highlight"><code>:set number relativenumber
:set nonumber norelativenumber  " turn hybrid line numbers off
:set !number !relativenumber    " toggle hybrid line numbers</code></pre>
<div class="paragraph">
<p>While not strictly relative, hybrid line numbers are what relative line numbers should have been. Instead of having a useless zero on the current line, it uses that space to give you an idea of where you are in the file.<span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="automatic-toggling-between-line-number-modes">Automatic toggling between line number modes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although relative line numbers are helpful when moving around in normal mode, absolute line numbers are more suited for insert mode. When the buffer doesn&#8217;t have focus, it&#8217;d also be more useful to show absolute line numbers. For example, when running tests from a seperate terminal split, it&#8217;d make more sense to be able to see which test is on which absolute line number.</p>
</div>
<div class="paragraph">
<p>Using some autocommands, Vim can switch between line number modes automatically.</p>
</div>

<video src="https://jeffkreeftmeijer.com/vim-number/toggle.mp4" width="1490" height="1162" poster="https://jeffkreeftmeijer.com/vim-number/toggle.gif" autoplay muted playsinline loop>
</video>

<pre class="highlight"><code>:set number relativenumber

:augroup numbertoggle
:  autocmd!
:  autocmd BufEnter,FocusGained,InsertLeave * set relativenumber
:  autocmd BufLeave,FocusLost,InsertEnter   * set norelativenumber
:augroup END</code></pre>
<div class="paragraph">
<p>In this example, both absolute and relative line numbers are enabled by default, which produces “hybrid” line numbers. When entering insert mode, relative line numbers are turned off, leaving absolute line numbers turned on. This also happens when the buffer loses focus, so you can glance back at it to see which absolute line you were working on, if you need to.</p>
</div>
<div class="paragraph">
<p>I&#8217;ve been using this way of automatically switching line number modes for years. You can set it up yourself by putting the snippet above in your <code>~/.vimrc</code>, or use the <a href="https://github.com/jeffkreeftmeijer/vim-numbertoggle">vim-numbertoggle</a> plugin, which does the same thing.</p>
</div>
</div>
</div>


  <div id="footnotes">
    <hr>
    
      <div class="footnote" id="_footnote_1">
        <a href="#_footnoteref_1">1</a>. Another way to see which line you&#8217;re currently on is Vim&#8217;s <code>ruler</code> option, which shows the current line and column. You can see it in action in the screenshots above, in the bottom right. It&#8217;s turned on by default in NeoVim and <a href="https://github.com/tpope/vim-sensible">vim-sensible</a>, but you can also set turn it on yourself using <code>:set ruler</code>.
      </div>
    
  </div>

</article>

<hr>
<p>
  Any questions, feedback or suggestions? Please respond on
  <a rel="nofollow" href="https://twitter.com/intent/tweet?url=https://jeffkreeftmeijer.com/vim-number/">Twitter</a>
   (or via
  <a rel="nofollow" href="https://twitter.com/messages/compose?recipient_id=8284992">direct message</a>)
  or send an
  <a rel="nofollow" href="mailto:&#x6a;&#x65;&#x66;&#x66;&#x6b;&#x72;&#x65;&#x65;&#x66;&#x74;&#x6d;&#x65;&#x69;&#x6a;&#x65;&#x72;&#x40;&#x67;&#x6d;&#x61;&#x69;&#x6c;&#x2e;&#x63;&#x6f;&#x6d;&#x3f;&#x73;&#x75;&#x62;&#x6a;&#x65;&#x63;&#x74;&#x3d;&#x4f;&#x6e;&#x20;&#x201c;&#x56;&#x69;&#x6d;&#x26;&#x23;&#x38;&#x32;&#x31;&#x37;&#x3b;&#x73;&#x20;&#x61;&#x62;&#x73;&#x6f;&#x6c;&#x75;&#x74;&#x65;&#x2c;&#x20;&#x72;&#x65;&#x6c;&#x61;&#x74;&#x69;&#x76;&#x65;&#x20;&#x61;&#x6e;&#x64;&#x20;&#x68;&#x79;&#x62;&#x72;&#x69;&#x64;&#x20;&#x6c;&#x69;&#x6e;&#x65;&#x20;&#x6e;&#x75;&#x6d;&#x62;&#x65;&#x72;&#x73;&#x201d;">e-mail</a>.
</p>
<hr/>
<nav>
  <a href="/" rel="author">Jeff Kreeftmeijer</a>
  <a href="/archive/">Archive</a>
  <a rel="me" href="https://twitter.com/jkreeftmeijer">Twitter</a>
  <a rel="me" href="https://github.com/jeffkreeftmeijer">Github</a>
  <a href="/feed.xml">RSS</a>
</nav>

<aside class="ad" id="codefund_ad">
  <script async src="https://codefund.io/scripts/48fc837b-75ff-48f2-9cf2-3f52281d7721/embed.js"></script>
  <script>window._codefund_theme = '';</script>
</aside>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12888762-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>