<p>At <a href="http://80beans.com">80beans</a> we had an old Rails project still on fixtures, so we decided to start switching it over to blueprints using <a href="http://github.com/notahat/machinist">Machinist</a>. Nothing extreme, except that the project had over 60 models and a couple of fixtures were broken, fixed, broken and fixed again.</p>
<p><img src="http://jeffkreeftmeijer.com/images/blueprint.jpg"></p>
<p>As I started writing blueprints, I realized that it would be nice to have some specs to make sure the bare minimum  (<code>Model.make</code> without any arguments) kept working at all times and we didn&#8217;t have to dive in to realize that the problem was one of the new blueprints, not the application.</p>
<p>So I whipped up &#8212; and <a href="http://gist.github.com/391949">Gisted</a> &#8212;  <code>machinist_spec.rb</code> that goes through your <code>app/models</code> directory, runs <code>.make</code> for everything it finds and expects it to work. Simple.</p>
<p>Also, our application used a mailer &#8212; in the <code>models</code> directory &#8212; which, of course, didn&#8217;t need any blueprints. I&#8217;ve excluded it from the spec by extracting it from the array on line 5.</p>
<p>Want it? Just put <a href="http://gist.github.com/391949">this</a> into <code>spec/machinist_spec.rb</code>. If you have anything to add or improve, please fork.</p>