<p>Although I told you <a href="http://jeffkreeftmeijer.com/2010/steak-because-cucumber-is-for-vegetarians">Cucumber is for vegetarians</a> a while back, I certainly don&#8217;t think <a href="http://afewgoodlines.com/post/1077316188/integration-testing-retrospective-part-i">it&#8217;s redundant</a>. Here are my two cents.</p>
<p><img src="http://jeffkreeftmeijer.com/images/cucumber.jpg" alt=""></p>
<p>From <a href="http://twitter.com/ryandotsmith" title="Ryan Smith">@ryandotsmith</a>&#8217;s <a href="http://afewgoodlines.com/post/1077316188/integration-testing-retrospective-part-i">article</a>:</p>
<blockquote>
<p>&#8220;How wonderful! I will have the client write out cucumber features and I will copy and paste them into a features directory, then I will write a bunch of regular expressions that couple the client generated stories to my code. Yeah right! Perhaps I have the only clients in the world who suck at writing cucumber features, but in my experience cucumber stories are best written by developers.&#8221;</p>
</blockquote>
<p>Nobody ever said you should let your client write cucumber stories on his own, copy and paste them into your <code>features</code> directory and write regular expressions to translate this mess into clean Ruby code.</p>
<p>Cucumber&#8217;s <a href="http://www.martinfowler.com/bliki/BusinessReadableDSL.html">Business Readable <span class="caps">DSL</span></a> allows your client to <em>read</em> stories, not to <em>write</em> them. He doesn&#8217;t need to know <a href="http://elabs.se/blog/15-you-re-cuking-it-wrong">what to keep in mind to make it easily regexable</a> when writing stories, he shouldn&#8217;t be writing anything by himself.</p>
<p>The client and the programmer are, in this case, a perfect pair to write stories. The client knows &#8212; for the most part &#8212; what&#8217;s supposed to be done, the programmer knows how to write stories and is able to give advice when the client proposes something wacky.</p>
<p>Your client isn&#8217;t stupid, but he probably doesn&#8217;t know how to write Cucumber stories or build his own application. That&#8217;s why he hired you, remember?</p>
<h3>Why I don&#8217;t use Cucumber</h3>
<p>At <a href="http://80beans.com">80beans</a>, we sit down with clients to create <a href="http://pivotaltracker.com/">Pivotal Tracker</a> stories which we turn into acceptance tests later. We write these tests in <a href="http://jeffkreeftmeijer.com/2010/steak-because-cucumber-is-for-vegetarians">Steak</a>, which is a really simple acceptance testing library based on <a href="http://rspec.info">RSpec</a>.</p>
<p>This way the client gets an overview of the features we&#8217;re building, which ones we&#8217;re currently working on or how many we&#8217;ve already delivered. The programmers write tests in Ruby, so they spend less time writing regular expressions and more time writing application code or playing ping-pong.</p>
<p>Still, I understand that writing tests together with your client gives both the programmers and the client a better understanding of the project, because they went over every single link, form and button together. I would love to know how many of you use Cucumber and if you ever wrote tests while sitting down with a client, though.</p>